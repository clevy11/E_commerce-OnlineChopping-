{"ast":null,"code":"var _jsxFileName = \"d:\\\\clb\\\\Workspace\\\\Tony_project\\\\webtech\\\\onlineshopclient\\\\src\\\\components\\\\ProductList.js\",\n  _s = $RefreshSig$();\nimport React, { Component, useEffect, useState } from 'react';\nimport Product from \"./Product\";\nimport Title from \"./Title\";\nimport useAppState from '../hooks/useAppState';\nimport { getProducts } from '../api';\nimport Alert from './Shared/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductList = () => {\n  _s();\n  const {\n    alert,\n    showAlert,\n    handleCloseAlert,\n    handleShowAlert,\n    setProducts: setGrobalProducts\n  } = useAppState();\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  const fetchProducts = () => {\n    getProducts((err, data) => {\n      if (err) {\n        // Handle error\n      } else {\n        var _data$data;\n        let tempProducts = data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.map(item => ({\n          ...item\n        }));\n        setProducts(tempProducts);\n        setGrobalProducts(tempProducts);\n      }\n    });\n  };\n  const onActionComplete = () => {\n    fetchProducts();\n  };\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          name: \"our\",\n          title: \"products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this), showAlert && alert && /*#__PURE__*/_jsxDEV(Alert, {\n          info: alert,\n          handleCloseAlert: handleCloseAlert\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 47\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: products.map(product => /*#__PURE__*/_jsxDEV(Product, {\n            product: product,\n            handleShowAlert: handleShowAlert,\n            onActionComplete: onActionComplete\n          }, product.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductList, \"CUYwEz2y5ZaQBbKKTSDQ7yq2/PM=\", false, function () {\n  return [useAppState];\n});\n_c = ProductList;\nexport default ProductList;\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","Component","useEffect","useState","Product","Title","useAppState","getProducts","Alert","jsxDEV","_jsxDEV","ProductList","_s","alert","showAlert","handleCloseAlert","handleShowAlert","setProducts","setGrobalProducts","products","fetchProducts","err","data","_data$data","tempProducts","map","item","onActionComplete","Fragment","children","className","name","title","fileName","_jsxFileName","lineNumber","columnNumber","info","product","id","_c","$RefreshReg$"],"sources":["d:/clb/Workspace/Tony_project/webtech/onlineshopclient/src/components/ProductList.js"],"sourcesContent":["import React, { Component, useEffect, useState } from 'react';\r\nimport Product from \"./Product\";\r\nimport Title from \"./Title\";\r\nimport useAppState from '../hooks/useAppState';\r\nimport { getProducts } from '../api';\r\nimport Alert from './Shared/Alert';\r\n\r\n\r\nconst ProductList = () => {\r\n    const { alert, showAlert, handleCloseAlert, handleShowAlert, setProducts: setGrobalProducts } = useAppState(); \r\n    const [products, setProducts] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        fetchProducts();\r\n    }, []);\r\n\r\n    const fetchProducts = () => {\r\n        getProducts((err, data) => {\r\n            if (err) {\r\n                // Handle error\r\n            } else {\r\n                let tempProducts = data?.data?.map(item => ({ ...item }));\r\n                setProducts(tempProducts);\r\n                setGrobalProducts(tempProducts);\r\n            }\r\n        });\r\n    };\r\n\r\n    const onActionComplete = () => {\r\n        fetchProducts();\r\n    }\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"py-5\">\r\n                <div className=\"container\">\r\n                    <Title name=\"our\" title=\"products\" />\r\n                    {(showAlert && alert) && (<Alert info={alert} handleCloseAlert={handleCloseAlert} />)}\r\n                    <div className=\"row\">\r\n                        {products.map(product => (\r\n                            <Product key={product.id} product={product} handleShowAlert={handleShowAlert} onActionComplete={onActionComplete} />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default ProductList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}